<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    {% load static %}
    <!-- Local Css/Js -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/reviews.css' %}"
    />
    <!-- CDN -->
    <!-- Bootstrap latest -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <!-- JQuery -->
    <script
      src="https://code.jquery.com/jquery-3.6.4.slim.min.js"
      integrity="sha256-a2yjHM4jnF9f54xUQakjZGaqYs/V1CYvWpoqZzC2/Bw="
      crossorigin="anonymous"
    ></script>
    <!-- Ajax -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"
      integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!-- Bootstrap Table -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"
    />
    <script src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.18.2/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-light bg-dark">
      <div class="container-fluid">
        <div class="navbar-header">
          <a href="{% url 'djangoapp:index' %}" class="anchor">Home</a>            
          <a href="{% url 'djangoapp:about' %}" class="anchor">About Us</a>
          <a href="{% url 'djangoapp:dealerships' %}" class="anchor"
            >Dearlers</a
          >
          <a href="{% url 'djangoapp:reviews' %}" class="anchor">Reviews</a>
          <a href="{% url 'djangoapp:contact' %}" class="anchor">Contact</a>
        </div>
        <div class="r-anchor">
          <ul class="nav navbar-nav navbar-right">
            {% if user.is_authenticated %}
            <li>
              <a class="btn btn-link" href="#"
                >{{ user.first_name }}({{ user.username }})</a
              >
              <a class="btn btn-link" href="{% url 'djangoapp:logout' %}"
                >Logout</a
              >
            </li>
            {% else %}
            <li>
              <a
                class="btn btn-link text-decoration-none"
                href="{% url 'djangoapp:login' %}"
                >Login
              </a>
              <a
                class="btn btn-link text-decoration-none"
                href="{% url 'djangoapp:registration' %}"
                >Sign Up
              </a>
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>
    <div class="seperator">
      <div class="devider-sep"></div>
    </div>

    <!--Add review form here -->
          <!-- Adding sentimental analysis for authenticated users to view dealerships  -->
          <section class="sentiment" id="sentiment">
            <div class="card-columns">
              <div class="card">
                {% for test in reviews %}
                <!-- Here is sentiment analysis to define -->
                <!-- {% if review.positive %} -->
                <img class="card-img-left" src="{{MEDIA_URL}}/emoji/positive.png" />
                <div class="card-body">
                  <div class="card-title">
                    {{test.doc.car_type}} &nbsp; {{test.doc.car_model}}
                  </div>
                  <div class="card-text">
                    {{ test.doc.year }} <br />
                    {{ test.doc.review }}
                  </div>
                </div>
                <!-- {% endif %} -->
                {% endfor %}
              </div>
            </div>
          </section>
    

    <!-- List of previous reviews with auto images  -->
    <!-- <section>
      <h2 class="h2">Clients feedbacks/reviews</h2>
      <div class="cards_img">
        <div class="container-fluid" id="dealers_bys">
          {% for item in reviews %}
          <div class="card mt-2 mr-4" style="width: 15rem">
            <img
              class="card-img-top"
              src="{% static 'images/a.png' %}"
              alt="Card image cap"
            />
          </div>
          <div class="card-columns-vertical w-75">
            <div class="card mt-1">
              <div class="card-header">
                <h6>{{ item.doc.car_make }} &nbsp;{{item.doc.car_model}}</h6>
              </div>
              <div class="card-body col-xs-4">
                <span class="text-secondary">Reviewer:</span>
                <p>{{item.doc.name}} - &nbsp; {{item.doc.review}}</p>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </section> -->

    <!-- Need to create purchase to buy a car and not a list of cars in the json file -->
    <section>
      <textarea
        class="form-control"
        id="content"
        name="content"
        rows="2"
        cols="3"
        required
      ></textarea>
      <input
        class="form-check-input"
        type="checkbox"
        name="purchasecheck"
        id="purchasecheck"
      />
      <select name="car" id="car" class="form-select" required>
        {% for car in cars %}
        <option selected value="{{car.id}}">
          {{car.name}}-{{car.make.name}}-{{ car.year|date:"Y" }}
        </option>
        {% endfor %}
      </select>
      <!-- Create calendar jquery -->
      <script type="text/javascript">
        $('.date-own').datepicker({
          format: 'mm/dd/yyyy',
        });
      </script>
    </section>

    <div class="seperator">
      <div class="devider-sep"></div>
    </div>

    <section class="feedback">
      <h3 class="h3">
        If you have a minute while you're here, AKA dealers love to hear your
        feedback/review
      </h3>
      <!-- Add review  -->
      <div class="row mt-5">
        <div class="mx-auto col-10 p-20">
          <form method="POST" class="ml-5 p-2">
            {% csrf_token %}
            <div class="mb-2 row">
              Name:
              <div class="col-sm-10" style="margin-left: 30px">
                <input
                  type="text"
                  name="name"
                  placeholder="Enter your name e.g. Nicergrer"
                  id="revs"
                  class="rounded-2"
                  size="20"
                  minlength="4"
                  maxlength="20"
                  required
                />
              </div>
            </div>
            <div class="mb-2 row">
              Car Type:
              <div class="col-sm-10" style="margin-left: 10px">
                <input
                  type="text"
                  name="ctype"
                  placeholder="Enter car type e.g. Ford"
                  id="ctype"
                  class="rounded-2"
                />
              </div>
            </div>
            <div class="mb-2 row">
              Car Model:
              <div class="col-sm-10">
                <input
                  type="text"
                  name="cmodel"
                  placeholder="Enter car model e.g. A3"
                  id="cmodel"
                  class="rounded-2"
                />
              </div>
            </div>
            <div class="mb-2 row">
              Do you want purchase?:
              <div class="col-sm-10">
                <input
                  class="form-check-input ml-2 p-1"
                  name="purchase"
                  type="checkbox"
                  value=""
                  aria-label="Checkbox for following text input"
                  id="purchase"
                />
              </div>
            </div>
            <div class="mb-2 row">
              Car Year:
              <div class="col-sm-10" style="margin-left: 15px">
                <input
                  type="number"
                  name="year"
                  placeholder="Enter year e.g. 2100 "
                  id="year"
                  class="rounded-2"
                />
              </div>
            </div>
            <div class="form-group">
              <label class="" for="txtarea">Your Message: </label>
              <textarea
                class="form-control w-50 rounded-4"
                id="txtarea"
                rows="5"
                name="review"
                required
              ></textarea>
            </div>
            <button class="btn btn-primary rounded-3 mt-2" type="submit">
              Send
            </button>
          </form>
        </div>
      </div>

      <button class="btn btn-secondary m-5 py-2 px-4 rounded-4">
        <a
          href="{% url 'djangoapp:dealerships' %} "
          class="text-warning text-decoration-none"
          >Back</a
        >
      </button>
      <!-- <div class="seperator">
        <div class="devider-sep"></div>
      </div> -->
    </section>
  </body>
</html>
